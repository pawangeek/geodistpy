{"config":{"separator":"[\\s\\-_,:!=\\[\\]()\\\\\"`/]+|\\.(?!\\d)"},"items":[{"location":"","level":1,"title":"Geodistpy Documentation","text":"<p>Welcome to the documentation for the <code>geodistpy</code> project — a high-performance Python package for geospatial distance calculations between geographical coordinates.</p>","path":["Geodistpy – Fast Geodesic Distance Calculations in Python"],"tags":[]},{"location":"#table-of-contents","level":2,"title":"Table Of Contents","text":"<ol> <li>Getting Started — Installation and quick start guide</li> <li>Explanation — Benchmarks, accuracy, and implementation details</li> <li>API Reference — Complete function reference</li> </ol>","path":["Geodistpy – Fast Geodesic Distance Calculations in Python"],"tags":[]},{"location":"#introduction","level":2,"title":"Introduction","text":"<p>The <code>geodistpy</code> package is a versatile library for geospatial calculations, offering various distance metrics and functionalities. It is built on the principles of geodesy and uses the WGS 84 coordinate system, making it suitable for a wide range of applications, from GPS tracking to geographical analysis.</p>","path":["Geodistpy – Fast Geodesic Distance Calculations in Python"],"tags":[]},{"location":"#key-features","level":3,"title":"Key Features","text":"<ul> <li>Blazing fast: ~0.4 µs per distance call — up to 171x faster than Geopy, 109x faster than Geographiclib</li> <li>Parallel matrix computation: Up to 1,230x faster than Geopy for pairwise distance matrices using Numba parallel execution</li> <li>Sub-millimeter accuracy: Vincenty's inverse formula with mean error of just 9 µm vs Geographiclib reference</li> <li>Improved Great Circle: Andoyer-Lambert flattening correction reduces spherical approximation error by 700x (from ~13 km to ~19 m)</li> <li>Edge case handling: Antipodal points, poles, date line crossings, and very short distances all handled correctly</li> </ul>","path":["Geodistpy – Fast Geodesic Distance Calculations in Python"],"tags":[]},{"location":"#quick-example","level":2,"title":"Quick Example","text":"<pre><code>from geodistpy import geodist\n\n# Define two coordinates (latitude, longitude)\ncoord1 = (52.5200, 13.4050)  # Berlin, Germany\ncoord2 = (48.8566, 2.3522)   # Paris, France\n\ndistance_km = geodist(coord1, coord2, metric='km')\nprint(f\"Distance: {distance_km} km\")\n</code></pre>","path":["Geodistpy – Fast Geodesic Distance Calculations in Python"],"tags":[]},{"location":"#links","level":2,"title":"Links","text":"<ul> <li>PyPI: pypi.org/project/geodistpy</li> <li>GitHub: github.com/pawangeek/geodistpy</li> </ul>","path":["Geodistpy – Fast Geodesic Distance Calculations in Python"],"tags":[]},{"location":"#license","level":2,"title":"License","text":"<p>The geodistpy project is licensed under the MIT License.</p>","path":["Geodistpy – Fast Geodesic Distance Calculations in Python"],"tags":[]},{"location":"api-reference/","level":1,"title":"API Reference","text":"<p>This page provides the complete API reference for the <code>geodistpy</code> package. All coordinates are expected in (latitude, longitude) format using the WGS 84 coordinate system.</p>","path":["API Reference – Geodistpy Functions & Parameters"],"tags":[]},{"location":"api-reference/#distance-functions","level":2,"title":"Distance Functions","text":"","path":["API Reference – Geodistpy Functions & Parameters"],"tags":[]},{"location":"api-reference/#geodist","level":3,"title":"<code>geodist</code>","text":"<pre><code>geodist(coords1, coords2, metric=\"meter\")\n</code></pre> <p>Calculate the geodesic distance between two coordinates or two lists of coordinates using Vincenty's inverse formula (sub-millimeter accuracy).</p> <p>Parameters:</p> Parameter Type Description <code>coords1</code> <code>tuple</code> or <code>array-like</code> First coordinate(s) as <code>(lat, lon)</code> or array of shape <code>(n, 2)</code> <code>coords2</code> <code>tuple</code> or <code>array-like</code> Second coordinate(s) as <code>(lat, lon)</code> or array of shape <code>(n, 2)</code> <code>metric</code> <code>str</code> Unit of measurement: <code>'meter'</code>, <code>'km'</code>, <code>'mile'</code>, or <code>'nmi'</code>. Default: <code>'meter'</code> <p>Returns: <code>float</code> or <code>ndarray</code> — Distance(s) in the specified unit.</p> <p>Raises:</p> <ul> <li><code>ValueError</code> — If coordinates don't have expected shape, or lat/lon values are out of range.</li> </ul> <p>Examples:</p> <pre><code>from geodistpy import geodist\n\n# Single pair\n&gt;&gt;&gt; geodist((52.5200, 13.4050), (48.8566, 2.3522), metric='km')\n878.389841013836\n\n# Multiple pairs\n&gt;&gt;&gt; coords1 = [(37.7749, -122.4194), (34.0522, -118.2437)]\n&gt;&gt;&gt; coords2 = [(40.7128, -74.0060), (41.8781, -87.6298)]\n&gt;&gt;&gt; geodist(coords1, coords2, metric='mile')\narray([2449.92107243, 1745.82567572])\n\n# Same point returns zero\n&gt;&gt;&gt; geodist((37.7749, -122.4194), (37.7749, -122.4194))\n0.0\n</code></pre>","path":["API Reference – Geodistpy Functions & Parameters"],"tags":[]},{"location":"api-reference/#greatcircle","level":3,"title":"<code>greatcircle</code>","text":"<pre><code>greatcircle(coords1, coords2, metric=\"meter\")\n</code></pre> <p>Calculate the distance between two coordinates using the Great Circle approximation with Andoyer-Lambert flattening correction (~19 m mean accuracy).</p> <p>Parameters:</p> Parameter Type Description <code>coords1</code> <code>tuple</code> or <code>array-like</code> First coordinate(s) as <code>(lat, lon)</code> or array of shape <code>(n, 2)</code> <code>coords2</code> <code>tuple</code> or <code>array-like</code> Second coordinate(s) as <code>(lat, lon)</code> or array of shape <code>(n, 2)</code> <code>metric</code> <code>str</code> Unit of measurement: <code>'meter'</code>, <code>'km'</code>, <code>'mile'</code>, or <code>'nmi'</code>. Default: <code>'meter'</code> <p>Returns: <code>float</code> or <code>ndarray</code> — Distance(s) in the specified unit.</p> <p>Raises:</p> <ul> <li><code>ValueError</code> — If coordinates don't have expected shape, or lat/lon values are out of range.</li> </ul> <p>Note</p> <p>The Great Circle formula with Andoyer-Lambert correction assumes an oblate spheroid (WGS84 flattening). It is faster than Vincenty but less accurate (~19 m mean error vs ~9 µm).</p>","path":["API Reference – Geodistpy Functions & Parameters"],"tags":[]},{"location":"api-reference/#matrix-functions","level":2,"title":"Matrix Functions","text":"","path":["API Reference – Geodistpy Functions & Parameters"],"tags":[]},{"location":"api-reference/#geodist_matrix","level":3,"title":"<code>geodist_matrix</code>","text":"<pre><code>geodist_matrix(coords1, coords2=None, metric=\"meter\")\n</code></pre> <p>Compute a pairwise distance matrix between all coordinate combinations using Vincenty's inverse formula with Numba-parallel execution.</p> <ul> <li>If only <code>coords1</code> is given: computes distances between all pairs in <code>coords1</code> → <code>dist[i, j] = distance(X[i], X[j])</code></li> <li>If <code>coords2</code> is also given: computes cross-distances → <code>dist[i, j] = distance(XA[i], XB[j])</code></li> </ul> <p>Parameters:</p> Parameter Type Description <code>coords1</code> <code>list of tuples</code> or <code>array-like</code> Coordinates as <code>[(lat, lon), ...]</code> or array of shape <code>(n, 2)</code> <code>coords2</code> <code>list of tuples</code> or <code>None</code> Optional second set of coordinates. Default: <code>None</code> <code>metric</code> <code>str</code> Unit of measurement: <code>'meter'</code>, <code>'km'</code>, <code>'mile'</code>, or <code>'nmi'</code>. Default: <code>'meter'</code> <p>Returns: <code>ndarray</code> — Distance matrix.</p> <p>Raises:</p> <ul> <li><code>ValueError</code> — If coordinates don't have expected shape, or lat/lon values are out of range.</li> </ul> <p>Examples:</p> <pre><code>from geodistpy import geodist_matrix\n\n# Self-distance matrix\n&gt;&gt;&gt; coords = [(52.5200, 13.4050), (48.8566, 2.3522), (37.7749, -122.4194)]\n&gt;&gt;&gt; geodist_matrix(coords, metric='km')\narray([[   0.        ,  878.38984101, 8786.58652276],\n       [ 878.38984101,    0.        , 9525.03650888],\n       [8786.58652276, 9525.03650888,    0.        ]])\n\n# Cross-distance matrix\n&gt;&gt;&gt; coords2 = [(40.7128, -74.0060), (41.8781, -87.6298)]\n&gt;&gt;&gt; geodist_matrix(coords, coords2, metric='mile')\narray([[ 3060.81391478, 2437.78157493],\n       [ 4290.62813902, 1745.82567572],\n       [ 2449.92107243, 1746.57308007]])\n</code></pre>","path":["API Reference – Geodistpy Functions & Parameters"],"tags":[]},{"location":"api-reference/#greatcircle_matrix","level":3,"title":"<code>greatcircle_matrix</code>","text":"<pre><code>greatcircle_matrix(coords1, coords2=None, metric=\"meter\")\n</code></pre> <p>Compute a pairwise distance matrix using the Great Circle approximation with Andoyer-Lambert correction and Numba-parallel execution.</p> <ul> <li>If only <code>coords1</code> is given: computes distances between all pairs in <code>coords1</code></li> <li>If <code>coords2</code> is also given: computes cross-distances</li> </ul> <p>Parameters:</p> Parameter Type Description <code>coords1</code> <code>list of tuples</code> or <code>array-like</code> Coordinates as <code>[(lat, lon), ...]</code> or array of shape <code>(n, 2)</code> <code>coords2</code> <code>list of tuples</code> or <code>None</code> Optional second set of coordinates. Default: <code>None</code> <code>metric</code> <code>str</code> Unit of measurement: <code>'meter'</code>, <code>'km'</code>, <code>'mile'</code>, or <code>'nmi'</code>. Default: <code>'meter'</code> <p>Returns: <code>ndarray</code> — Distance matrix.</p> <p>Raises:</p> <ul> <li><code>ValueError</code> — If coordinates don't have expected shape, or lat/lon values are out of range.</li> </ul> <p>Examples:</p> <pre><code>from geodistpy import greatcircle_matrix\n\n# Self-distance matrix\n&gt;&gt;&gt; coords = [(52.5200, 13.4050), (48.8566, 2.3522), (37.7749, -122.4194)]\n&gt;&gt;&gt; greatcircle_matrix(coords, metric='km')\narray([[   0.        ,  878.38984101, 8786.58652276],\n       [ 878.38984101,    0.        , 9525.03650888],\n       [8786.58652276, 9525.03650888,    0.        ]])\n</code></pre>","path":["API Reference – Geodistpy Functions & Parameters"],"tags":[]},{"location":"api-reference/#supported-metrics","level":2,"title":"Supported Metrics","text":"<p>All distance functions accept a <code>metric</code> parameter with one of the following values:</p> Value Unit Conversion <code>'meter'</code> Meters Base unit <code>'km'</code> Kilometers ÷ 1,000 <code>'mile'</code> Statute miles ÷ 1,609.344 <code>'nmi'</code> Nautical miles ÷ 1,852","path":["API Reference – Geodistpy Functions & Parameters"],"tags":[]},{"location":"explanation/","level":1,"title":"Explanation","text":"<p>Geodistpy is a powerful Python library designed for lightning-fast geospatial distance computations. It uses Vincenty's inverse formula accelerated with Numba JIT compilation and parallel execution to achieve extreme performance, while maintaining sub-millimeter accuracy on the WGS84 ellipsoid.</p>","path":["Performance Benchmarks & Implementation – Geodistpy vs Geopy vs Geographiclib"],"tags":[]},{"location":"explanation/#speed-comparison","level":2,"title":"Speed Comparison","text":"<pre><code># Import libraries\nfrom geopy.distance import geodesic as geodesic_geopy\nfrom geographiclib.geodesic import Geodesic as geodesic_gglib\nfrom geodistpy.geodesic import geodesic_vincenty\n\n# Define two coordinates\ncoord1 = (52.5200, 13.4050)  # Berlin\ncoord2 = (48.8566, 2.3522)   # Paris\n\n# Calculate distance with Geopy (based on Geographiclib)\ndistance_geopy = geodesic_geopy(coord1, coord2).meters\n\n# Calculate distance with Geographiclib\ndistance_gglib = geodesic_gglib.WGS84.Inverse(coord1[0], coord1[1], coord2[0], coord2[1])['s12']\n\n# Calculate distance with Geodistpy\ndistance_geodistpy = geodesic_vincenty(coord1, coord2)\n\n# Print the results\nprint(f\"Distance between Berlin and Paris:\")\nprint(f\"Geopy: {distance_geopy} meters\")\nprint(f\"Geographiclib: {distance_gglib} meters\")\nprint(f\"Geodistpy: {distance_geodistpy} meters\")\n</code></pre>","path":["Performance Benchmarks & Implementation – Geodistpy vs Geopy vs Geographiclib"],"tags":[]},{"location":"explanation/#single-pair-performance-10000-calls-best-of-3","level":3,"title":"Single-Pair Performance (10,000 calls, best of 3)","text":"Library Total Time Per Call Geopy ~636 ms ~64 µs Geographiclib ~406 ms ~41 µs Geodistpy (Vincenty+Numba) ~3.7 ms ~0.4 µs <ul> <li>Geodistpy is ~171x faster than Geopy</li> <li>Geodistpy is ~109x faster than Geographiclib</li> </ul>","path":["Performance Benchmarks & Implementation – Geodistpy vs Geopy vs Geographiclib"],"tags":[]},{"location":"explanation/#pairwise-distance-matrix-nn","level":3,"title":"Pairwise Distance Matrix (N×N)","text":"<p>For matrix computations, Geodistpy uses Numba-parallel loops instead of scipy callbacks, yielding massive speedups:</p> N points Unique Pairs Geopy Geographiclib Geodistpy Speedup vs Geopy 50 1,225 87 ms 58 ms 4.1 ms 21x 100 4,950 363 ms 236 ms 0.59 ms 613x 200 19,900 1.44 s 930 ms 1.17 ms 1,230x","path":["Performance Benchmarks & Implementation – Geodistpy vs Geopy vs Geographiclib"],"tags":[]},{"location":"explanation/#accuracy-geographiclib-as-reference-5000-random-pairs","level":3,"title":"Accuracy (Geographiclib as reference, 5,000 random pairs)","text":"Method Mean Error (m) Max Error (m) Mean Rel. Error Geodistpy (Vincenty) 0.000009 0.000108 1.03e-12 Geopy (geodesic) 0.000000 0.000000 4.40e-17 Geodistpy (Great Circle) 19.23 462.88 2.34e-06 <p>Note: Geopy shows zero error because it wraps Geographiclib — it's the same algorithm. Geodistpy's Vincenty mean error of 9 micrometers is negligible. The Great Circle method uses an Andoyer-Lambert flattening correction that reduces error from ~13 km (pure sphere) to ~19 m — a 700x improvement.</p>","path":["Performance Benchmarks & Implementation – Geodistpy vs Geopy vs Geographiclib"],"tags":[]},{"location":"explanation/#great-circle-vs-geodesic-trade-off","level":3,"title":"Great Circle vs Geodesic Trade-off","text":"Method Time (10,000 calls) Mean Error Use Case Great Circle + Andoyer-Lambert 3.0 ms ~19 m Fast with good accuracy Vincenty Geodesic 4.9 ms ~0.009 mm Maximum precision","path":["Performance Benchmarks & Implementation – Geodistpy vs Geopy vs Geographiclib"],"tags":[]},{"location":"explanation/#performance-summary","level":2,"title":"Performance Summary","text":"<ul> <li>Single-pair: ~0.4 µs per call (171x faster than Geopy, 109x faster than Geographiclib)</li> <li>Matrix (N=200): 1.17 ms for 19,900 pairs (1,230x faster than Geopy)</li> <li>Vincenty accuracy: sub-millimeter (mean error = 9 µm)</li> <li>Great Circle accuracy: ~19 m mean error with Andoyer-Lambert flattening correction</li> <li>All edge cases handled: antipodal points, poles, date line crossings, short distances</li> </ul>","path":["Performance Benchmarks & Implementation – Geodistpy vs Geopy vs Geographiclib"],"tags":[]},{"location":"explanation/#key-implementation-details","level":2,"title":"Key Implementation Details","text":"","path":["Performance Benchmarks & Implementation – Geodistpy vs Geopy vs Geographiclib"],"tags":[]},{"location":"explanation/#vincentys-inverse-formula","level":3,"title":"Vincenty's Inverse Formula","text":"<p>The core algorithm solves the inverse geodetic problem on the WGS84 ellipsoid using Vincenty's iterative method with 4<sup>th</sup>-order series expansions for the A and B Helmert coefficients. It is JIT-compiled with Numba using <code>fastmath=True</code> for additional floating-point optimizations.</p>","path":["Performance Benchmarks & Implementation – Geodistpy vs Geopy vs Geographiclib"],"tags":[]},{"location":"explanation/#andoyer-lambert-flattening-correction","level":3,"title":"Andoyer-Lambert Flattening Correction","text":"<p>The Great Circle function applies a first-order correction for Earth's oblateness (WGS84 flattening f = 1/298.257223563). This dramatically improves accuracy compared to a pure spherical model while adding minimal computational cost.</p>","path":["Performance Benchmarks & Implementation – Geodistpy vs Geopy vs Geographiclib"],"tags":[]},{"location":"explanation/#numba-parallel-matrix-computation","level":3,"title":"Numba Parallel Matrix Computation","text":"<p>Distance matrices use <code>@jit(parallel=True)</code> with <code>prange</code> for automatic multi-threaded execution, eliminating the overhead of Python-level callback functions that plague scipy-based approaches.</p>","path":["Performance Benchmarks & Implementation – Geodistpy vs Geopy vs Geographiclib"],"tags":[]},{"location":"explanation/#context-and-background","level":2,"title":"Context and Background","text":"<p>The Python package <code>geodistpy</code> is a versatile library designed for geospatial calculations involving distances between geographical coordinates. It is built on the principles of geodesy and uses the WGS 84 coordinate system, which is commonly used in GPS and mapping applications.</p>","path":["Performance Benchmarks & Implementation – Geodistpy vs Geopy vs Geographiclib"],"tags":[]},{"location":"explanation/#why-it-was-created","level":2,"title":"Why it was Created","text":"<p>The package was created to simplify and standardize geospatial distance calculations. Geographical distance calculations can be complex due to the curvature of the Earth's surface, and this library abstracts away those complexities, allowing users to focus on their specific geospatial tasks.</p>","path":["Performance Benchmarks & Implementation – Geodistpy vs Geopy vs Geographiclib"],"tags":[]},{"location":"explanation/#examples-and-approaches","level":2,"title":"Examples and Approaches","text":"<p>Let's explore multiple examples and approaches to working with the <code>geodistpy</code> library:</p>","path":["Performance Benchmarks & Implementation – Geodistpy vs Geopy vs Geographiclib"],"tags":[]},{"location":"explanation/#example-1-calculating-distance-between-two-coordinates","level":3,"title":"Example 1: Calculating Distance Between Two Coordinates","text":"<pre><code>from geodistpy import geodist\n\n# Define two coordinates in (latitude, longitude) format\ncoord1 = (52.5200, 13.4050)  # Berlin, Germany\ncoord2 = (48.8566, 2.3522)   # Paris, France\n\n# Calculate the distance between the two coordinates in kilometers\ndistance_km = geodist(coord1, coord2, metric='km')\nprint(f\"Distance between Berlin and Paris: {distance_km} kilometers\")\n</code></pre>","path":["Performance Benchmarks & Implementation – Geodistpy vs Geopy vs Geographiclib"],"tags":[]},{"location":"explanation/#example-2-calculating-distance-between-multiple-coordinates","level":3,"title":"Example 2: Calculating Distance Between Multiple Coordinates","text":"<pre><code>from geodistpy import greatcircle_matrix\n\n# Define a list of coordinates\ncoords = [(52.5200, 13.4050), (48.8566, 2.3522), (37.7749, -122.4194)]\n\n# Calculate the distance matrix between all pairs of coordinates in miles\ndistance_matrix_miles = greatcircle_matrix(coords, metric='mile')\nprint(\"Distance matrix in miles:\")\nprint(distance_matrix_miles)\n</code></pre>","path":["Performance Benchmarks & Implementation – Geodistpy vs Geopy vs Geographiclib"],"tags":[]},{"location":"explanation/#example-3-working-with-different-metrics","level":3,"title":"Example 3: Working with Different Metrics","text":"<p>The <code>geodistpy</code> library allows you to work with various distance metrics, such as meters, kilometers, miles, and nautical miles. You can easily switch between them by specifying the <code>metric</code> parameter.</p> <pre><code>from geodistpy import geodist\n\ncoord1 = (52.5200, 13.4050)  # Berlin, Germany\ncoord2 = (48.8566, 2.3522)   # Paris, France\n\n# Calculate the distance in meters\ndistance_meters = geodist(coord1, coord2, metric='meter')\n\n# Calculate the distance in nautical miles\ndistance_nautical_miles = geodist(coord1, coord2, metric='nmi')\n\nprint(f\"Distance in meters: {distance_meters}\")\nprint(f\"Distance in nautical miles: {distance_nautical_miles}\")\n</code></pre>","path":["Performance Benchmarks & Implementation – Geodistpy vs Geopy vs Geographiclib"],"tags":[]},{"location":"explanation/#conclusion","level":2,"title":"Conclusion","text":"<p>For applications that demand rapid and precise geospatial distance computations, Geodistpy is the clear choice. It offers exceptional speed improvements over both Geopy and Geographiclib, making it ideal for tasks involving large datasets or real-time geospatial applications. Despite its speed, Geodistpy maintains accuracy on par with Geographiclib, ensuring that fast calculations do not compromise precision.</p> <p>By adopting Geodistpy, you can significantly enhance the efficiency and performance of your geospatial projects. It is a valuable tool for geospatial professionals and developers seeking both speed and accuracy in their distance computations.</p> <p>To get started with Geodistpy, visit the Geodistpy and explore the documentation for comprehensive usage instructions.</p>","path":["Performance Benchmarks & Implementation – Geodistpy vs Geopy vs Geographiclib"],"tags":[]},{"location":"getting-started/","level":1,"title":"Getting Started","text":"","path":["Getting Started with Geodistpy – Installation & Quick Start"],"tags":[]},{"location":"getting-started/#installation","level":2,"title":"Installation","text":"<p>You can install the <code>geodistpy</code> package using <code>pip</code>:</p> <pre><code>pip install geodistpy\n</code></pre>","path":["Getting Started with Geodistpy – Installation & Quick Start"],"tags":[]},{"location":"getting-started/#quick-start-guide","level":2,"title":"Quick Start Guide","text":"<p>The quickest way to start using the <code>geodistpy</code> package is to calculate the distance between two geographical coordinates. Here's how you can do it:</p> <pre><code>from geodistpy import geodist\n\n# Define two coordinates in (latitude, longitude) format\ncoord1 = (52.5200, 13.4050)  # Berlin, Germany\ncoord2 = (48.8566, 2.3522)   # Paris, France\n\n# Calculate the distance between the two coordinates in kilometers\ndistance_km = geodist(coord1, coord2, metric='km')\nprint(f\"Distance between Berlin and Paris: {distance_km} kilometers\")\n</code></pre>","path":["Getting Started with Geodistpy – Installation & Quick Start"],"tags":[]}]}